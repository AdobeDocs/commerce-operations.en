---
title: Adobe Commerce 2.4.7 release notes
description: Learn about new features, enhancements, bug fixes, and known issues in the 2.4.7 Adobe Commerce release.
---

# Adobe Commerce 2.4.7-beta1 release notes

Adobe Commerce 2.4.7-beta1 introduces support for 

This release includes over  quality fixes and enhancements. Core Composer dependencies and third-party libraries have been upgraded to the latest versions that are compatible with PHP 8.2.

{{bics}}

## Other release information

Although code for these features is bundled with releases of the Adobe Commerce core code, several of these projects (for example, B2B, Page Builder, and Progressive Web Applications (PWA) Studio) are also released independently. Bug fixes for these projects are documented in the separate, project-specific release information that is available in the documentation for each project.

## Adobe Commerce 2.4.7 highlights

Look for the following highlights in this release.

### Security enhancements

This release includes  security fixes and platform security improvements.

No confirmed attacks related to these issues have occurred to date. However, certain vulnerabilities can potentially be exploited to access customer information or take over administrator sessions. Most of these issues require that an attacker first obtains access to the Admin. As a result, we remind you to take all necessary steps to protect your Admin, including but not limited to these efforts:

*  IP allowlisting
*  [Two-factor authentication](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
*  Use of a VPN
*  Use of a unique location rather than `/admin`
*  Good password hygiene

See Adobe Security Bulletin for the latest discussion of these fixed issues.

#### Additional security enhancements

Security improvements for this release improve compliance with the latest security best practices, including:
 

### Platform enhancements

Adobe Commerce 2.4.7 introduces support for PHP . <!-- AC- -->

Adobe Commerce 2.4.7 now supports:



#### Other upgrades and replacements


### Performance and scalability enhancements



### Adobe Commerce Extension metapackage

This release introduces the Adobe Commerce Extension metapackage v1.1.1, which automatically bundles select Adobe Commerce extensions with this core release. The versions of these extensions that are included in this metapackage are installed when `composer update` is run, simplifying the process of upgrading these extensions when upgrading to the latest core release. These extensions will still maintain independent release schedules.

The Adobe Commerce Extension metapackage for Adobe Commerce 2.4.7-beta1 includes three extensions: 

*  [Bolt Quick Checkout](https://experienceleague.adobe.com/docs/commerce-merchant-services/quick-checkout/overview.html)
*  [Adobe I/O Events for Adobe Commerce](https://developer.adobe.com/commerce/events/get-started/)
*  [Payment Services](https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html)

Future versions of this extension metapackage will contain additional extensions. 

### Adobe I/O Events for Adobe Commerce 

Adobe I/O Events for Adobe Commerce captures Commerce events and transfers data from Adobe Commerce to other Adobe systems. Developers can build cloud-native apps in Adobe Developer App Builder that subscribe to Commerce events such as inventory updates, order status changes, and price updates. Developers can use this capability to exchange data for the orchestration of the entire buyer journey across their mission-critical systems.

### Accessibility updates

The focus of this release has been on creating a storefront experience on Venia (PWA) that is more perceivable, operable, understandable, and robust. These enhancements include:


### B2B


This release includes multiple bug fixes. See [B2B Release Notes](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).


### Braintree


### GraphQL

GraphQL performance enhancements include:



### Page Builder

Page Builder v.1.7.3 is compatible with Adobe Commerce 2.4.7-beta1.


### PWA Studio

PWA Studio v.13.0.x is compatible with Adobe Commerce 2.4.7. It includes multiple enhancements to improve accessibility. For information about bug fixes, see [PWA Studio releases](https://github.com/magento/pwa-studio/releases). See [Version compatibility](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) for a list of PWA Studio versions and their compatible Adobe Commerce core versions.

## Fixed issues

We have fixed hundreds of issues in the Adobe Commerce 2.4.7-beta1 core code. A subset of the fixed issues included in Adobe Commerce 2.4.7 is described below.

[GitHub-35964](https://github.com/magento/magento2/issues/35964)

### Installation, upgrade, deployment


<!-- ACP2E-1605 -->

*  Running `setup:config:set` without specifying the `--lock-db-prefix` parameter no longer erases the current value from the `env.php` file.

### Accessibility


#### Screen readers




### Bundle products

<!-- ACP2E-1478 -->

*  Bundle products are now successfully imported without duplicating SKUs in product options. Previously, Adobe Commerce created multiple duplicate SKUs in product options when you imported bundle products with duplicate entries. 

<!-- ACP2E-1388 -->

*  Bundle product price is now calculated properly when one of the products in the bundle are out of stock. Previously, if a product that was part of the bundle was out of stock, it was removed from the price calculation.

### Cache

<!-- ACP2E-1524 -->

*  Page cache is now cleared as expected for a parent product when one of its child products has been saved from the Admin. A plugin check has been introduced to reach cache invalidation for configurable variants, similar to other product types, irrespective of indexers state (scheduled or real time). Previously,  prices were not updated properly on the storefront after a configurable variation was updated from the Admin.


### Cart and checkout

 <!-- ACP2E-1614 -->

*  Products in the cart are no longer excluded from related and upsell product lists after the cache is flushed.

<!-- ACP2E-1580 -->

*  The cart tax and shipping estimator now accurately reflects the default destination configuration. Previously, when you configured default tax destination calculation settings and specified State/Region and ZIP, only the ZIP value was shown in the cart under **Estimate Tax and Shipping**. This resulted from Adobe Commerce setting the region ID to undefined before invoking the conditional statement that set the default region ID from the Admin. 

<!-- ACP2E-1547 -->

*  Adobe Commerce no longer throws this error during checkout when persistent shopping cart is enabled:  `Invalid state change requested`. Previously, when this error was thrown, multiple orders with the same quote_id were occasionally created.

<!-- ACP2E-1456 -->

*  The mini cart now displays bundle product prices that reflect cart tax configuration settings. Previously, the mini cart always included taxes in the prices of bundle products, 

<!-- ACP2E-1414 -->

*  The performance of customer segments rules that rely on active carts has been improved, which has reduced the time needed to add a product to the cart. 

<!-- AC-1116 -->

*  Shoppers can now add more products to the shopping cart than the amount specified in the **[!UICONTROL Minimum Qty Allowed in Shopping Cart]** setting. Previously, Adobe Commerce threw an error when a shopper added additional products to the cart after first adding the minimum quantity. [GitHub-33955](https://github.com/magento/magento2/issues/33955)

<!-- AC-7503 -->

*  The shipping estimate provided from the cart page is now accurate. `collectShippingRates` is now set only once. Previously, the shipping estimate was duplicated. [GitHub-36648](https://github.com/magento/magento2/issues/36648)


### Cart price rule

<!-- ACP2E-1516 -->

*  Cart price rules are now applied as expected when a cart price rule related to one shipping method is configured for the store, and this shipping method is changed to another during check out. Previously, the `applied_rule_ids` value was never changed in the `sales_order_item` table, and the cart price rule was not applied to the order.

### Catalog

<!-- ACP2E-1479 -->

*  Adobe Commerce no longer displays a warning message when you save a product that was created with custom options after deleting its image. 

<!-- ACP2E-1419 -->

*  Product thumbnail images are now displayed as expected in the product stock alert email that is sent when a product is back in stock. Previously, this image was not displayed in the alert email

<!-- AC-3003 -->

*  The product count in the category tree (Admin **[!UICONTROL Catalog]** > **[!UICONTROL Category]**)  is now accurate. Previously, the category products count could not be retrieved from the `catalog_category_product_index` table. The typo that triggered this bug has been fixed. [GitHub-35417](https://github.com/magento/magento2/issues/35417)

<!-- ACP2E-1239 -->

*  The main product image on the product details page no longer visibly shifts downward during page load when `product_image_white_borders` in theme `view.xml` is disabled. Previously, the product image visibly shifted downward during page load due to incorrect height settings in Fotorama JS.

### Catalog rules

<!-- ACP2E-1579 -->

*  Catalog rules are now applied as expected in a multi-website environment.


### Configurable products


### Coupons

<!-- ACP2E-1551 -->

*  Shoppers can now use two separate auto-generated coupon codes that have been generated by the same cart price rule.  The `Uses per Coupon` field is now enabled when the coupon type selected to `Auto` (similar for coupon type =`Specific Coupon`) . This in turn enables the shopper to apply multiple coupon codes to the same cart price if the codes are different. 

<!-- ACP2E-1496 -->

*  A shopper's single-use coupon value is now restored as expected when the order to which it was applied is canceled. 

### cron


### Currency


### Customer segment


### Email

<!-- ACP2E-1529 -->

*  Company Admin details are now saved as expected, and admins are correctly redirected,  when Assign Company Admin emails contain a CMS Block URL variable. 

<!-- ACP2E-2903 -->

*  Customer email addresses can now include diacritics. Previously, front-end validation prohibited the creation of a user with diacritics in their email address. [GitHub-12075](https://github.com/magento/magento2/issues/12075)

### Frameworks

<!-- ACP2E-1492 -->

*  Mutex has been implemented for orders to prevent race conditions during update by concurrent requests. Previously, concurrent requests (race conditions) for order cancellations caused duplicated entries in the `inventory_reservation` table.

<!-- ACP2E-1381 -->

*  The `populateWithArray` function now transforms object properties to snake case correctly, making it compatible with the `AbstractModel` getters and setters. Previously, the snake case formatting was incorrect when the data attribute name contains several uppercase letters in a row. 

<!-- ACP2E-1522 -->

*  The auto increment value in the `catalog_product_entity_varchar` table now increments correctly after a product is saved. Previously, this value increased by ten.

### General fixes

<!-- ACP2E-1508 -->

*  Errors no longer occur during requests for an RSS feed for categories when **RSS Feed Top Level Category** is enabled. Previously, browsing the RSS feed category page resulted in Elasticsearch `CRITICAL ` errors in log files when RSS Feed Top Level Category was enabled. 

<!-- ACP2E-1490 -->

*  The correct value is now saved for  `gws_store_groups` when role scope is changed during user role creation. Previously, when role scope was selected as `All`,  the `gws_store_groups` value  was saved as null during user creation but not during role editing. Also,  if role scope was selected as `Custom`, then the `gws_store_groups` value was always saved as null.

### Gift cards

<!-- ACP2E-1586 -->

*  Subtotals are now calculated correctly for custom gift card amounts. 

<!-- ACP2E-1350 -->

*  Gift cards are now applied correctly during checkout with multiple addresses. Previously, gift card amounts were applied incorrectly for multi-address shipments, which resulted in invalid gift card amounts. 

### GraphQL

<!-- ACP2E-1584 -->

*  The GraphQL schema `DateTime` attributes now include a `FilterRangeTypeInput` filter input type. This supports merchant ability to filter by date-time ranges.

<!-- ACP2E-1552 -->

*  The `customer` mutation now returns only customer reviews related to specific store view as expected when filtered by store ID.

<!-- AC-7544 -->

*  The `categories` query response body no longer includes an internal server error. [GitHub-36675](https://github.com/magento/magento2/issues/36675)


### Google Tag Manager

<!-- ACP2E-1520 -->

*  The Google Tag module now pushes the correct data to the data layer. Previously, page impressions data was not pushed to the data layer.

### Google ReCAPTCHA

<!-- ACP2E-1539 -->

*  The Google reCAPTCHA in the checkout workflow now works as expected for checks, money orders, and custom payment methods.

<!-- ACP2E-1311 -->

*  Adobe Commerce forms can no longer be submitted before the Google ReCAPTCHA checkbox loads.

<!-- ACP2E-1338 -->

*  The reCAPTCHA widget now precedes the **[!UICONTROL Place Order]** button on the payment page. Previously, the widget was displayed at the top of the page.


### Image

<!-- ACP2E-1353 -->

*  The Admin  favicon icon upload form now supports `.ico` file types. [GitHub-34858](https://github.com/magento/magento2/issues/34858)


### Import/export

<!-- ACP2E-1565 -->

*  The product import process is no longer interrupted when product images are missing. Previously, when a product image was missing during the import of a third-party service using a CSV file, Adobe Commerce displayed this error: `Maximum error count has been reached or a system error is occurred!`. 

<!-- ACP2E-1482 -->

*  Product reports are now exported to the `var` directory instead of the document root directory, which is  read-only directory in cloud instances.

<!-- ACP2E-1476 -->

*  The performance of customer export from the Customer grid has been improved in deployments where B2B is enabled. 

<!-- ACP2E-1391 -->

*  The product import process no longer throws a validation error when an attribute value in `configurable_variations` column contains a comma.

<!-- ACP2E-1377 -->

*  Decoding has been excluded from the export process. The CSV export file text remain unchanged after import. As a result, the description does not change after re-import. Previously, HTML tags were removed in Page Builder editor after product export and import. 

<!-- ACP2E-1451 -->

*  Non-default configurations (website or store scope) that are added as environment variables no longer break the `app:config:import` process with a recursion error.

### Index

<!-- ACP2E-1401 -->

*  Creating a custom product type when indexers are set to **[!UICONTROL Update on schedule]** no longer causes the index update `cron` task to fail. [GitHub-36471](https://github.com/magento/magento2/issues/36471)

### Infrastructure

<!-- ACP2E-1462 -->

*  Adobe Commerce no longer includes the full path to the root of the server in the error message it displays when a malformed HTTP request has been sent to the server. Only strings are now passed to the `explode` method as a second argument.


<!-- ACP2E-1146 -->

*  Attribute Options provided by the data source model and installed using Setup Data Patch (typically from third party modules) can now be used with Customer Segment rules. Previously, this combination did not return the list of customer that matched the configured segment.

### Media Gallery


### Logging

### Login

<!-- ACP2E-1521 -->

*  Resetting a password in one browser and subsequently logging in through a different browser no longer results in an exception. [GitHub-36447](https://github.com/magento/magento2/issues/36447)

<!-- ACP2E-1332 -->

*  Customers are now redirected to the login page after activating an account as expected. Previously, customers were automatically logged in.

### Order

<!-- ACP2E-1514 -->

*  Shoppers can no longer order a product using a custom price when an order is first generated from the Admin using the one-off custom price. Previously, if an order contained an item with custom prices, this custom price was applied for other orders placed with the re-order functionality.


<!-- ACP2E-1421 -->

*  Shoppers can no longer save incorrect order statuses on the order page. Order status is no longer changed from Complete to Processing when an item is shipped. Previously,  Adobe Commerce did not check current order status before saving order status after a shopper entered a comment. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1387 -->

*  Adobe Commerce no longer throws an error on the storefront order return page when the configurable product being returned has been deleted. Previously, Adobe Commerce logged this error: `report.CRITICAL: Error: Call to a member function getShipmentType() on null in magento2ee/app/code/Magento/Rma/view/frontend/templates/return/create.phtml:52`. 

<!-- ACP2E-1367 -->

*  The sales order grid is now asynchronously synced with all orders as expected. [GitHub-36562](https://github.com/magento/magento2/issues/36562)

<!-- ACP2E-1197 -->

*  The filter-by-purchase-date functionality in the customer orders section of the Orders page now works as expected. Previously,  a JavaScript error occurred when the timezone conversion logic threw an error when the same time zone was provided to the method.

<!-- ACP2E-1294 -->

*  The Adobe Commerce dashboard now displays the correct orders statistics on first load. Previously, the dashboard displayed incorrect order information, but displayed the correct information once the time period was updated.

### Page Builder

<!-- ACP2E-1564 -->

*  Adding a product to a shopping cart from the Page Builder carousel no longer duplicates item quantity from pages with two different widgets displaying the same products.

<!-- ACP2E-1542 -->

*  Page Builder no longer adds the `tabindex` HTML attribute to hyperlink tags `a` when you edit a hyperlink then save a template. 

<!-- ACP2E-1444 -->

*  The products widget and Page Builder preview now handle HTML special characters properly. Previously, the product widget did not correctly display SKUs that contained the `&` character. 

<!-- ACP2E-1441 -->

*  Page Builder text element content is now updated as expected when you select and update the complete content block in preview mode.

<!-- ACP2E-1362 -->

*  Copying and pasting text from one Page Builder text editor to another now works as expected. Previously, the page into which you tried to paste text could not saved, and Adobe Commerce displayed this console error: `[ERROR] Page Builder was rendering for 5 seconds without releasing locks.`.

### Payment

<!-- ACP2E-1215 -->

*  The Vault payment method option no longer appears in the Admin checkout workflow when the shopper does not have a vault token. [GitHub-36273](https://github.com/magento/magento2/issues/36273

<!-- ACP2E-1229 -->

*  The Braintree Vault payment method option is no longer automatically deselected in the checkout workflow when a shopper updates their billing address. Previously, the payment method was deselected when the shopper deselected the **[!UICONTROL My billing and shipping address are the same]** button.

<!-- ACP2E-1303 -->

*  The **[!UICONTROL Venmo]** button now can be hidden when the PayPal buttons are enabled. Previously, the **[!UICONTROL Venmo]** button could not be removed from the cart, mini cart, product detail, or the checkout pages

#### Braintree


### Performance

### Reports

<!-- ACP2E-1541 -->

*  The Orders report ( REPORTS > Sales > Orders) now includes correct order values when orders are generated by stores that use non-default currencies. Previously, this report included incorrect values. [GitHub-36742](https://github.com/magento/magento2/issues/36742)

<!-- ACP2E-1477 -->

*  Misleading information in sales order report form has been revised for clarity. 

<!-- ACP2E-1435 -->

*  Admin users can now search for records with emails that contain  '+' (plus) signs from the Abandoned Carts Report page. [GitHub-36560](https://github.com/magento/magento2/issues/36560)

### Return Merchandise Authorizations (RMA)

### Reviews


### Rewards

<!-- ACP2E-1473 -->

*  The reward points balance update email notification now takes into account the current store context. Previously, the reward points balance update email used configuration settings for the default store.

<!-- ACP2E-1329 -->

*  Reward points can now be refunded after the creation of a credit memo. Previously, merchants could not refund rewards points after creating a credit memo,  and order status remained `Completed`, not `Closed`. 

### Roles

### Search {#search-heading}

<!-- ACP2E-1499 -->

*  Search results now display relevant results based on search weight of the attributes as expected.

<!-- AC-7505 -->

*  Informative text under the `Search Weight` attribute's `Storefront Properties` input field on Admin **[!UICONTROL Stores]** > **[!UICONTROL Attributes]** > **[!UICONTROL Product]** now describes possible values. [GitHub-36646](https://github.com/magento/magento2/issues/36675)


### Shipping

### Staging

<!-- ACP2E-1501 -->

*  JavaScript errors no longer occur when you add or edit scheduled updates for categories when Google Analytics Content Experiments is enabled. 

<!-- ACP2E-1344 -->

*  Merchants can now successfully save an existing schedule update for a category after viewing or editing it. Previously, Adobe Commerce threw an error in `system.log`.

<!-- ACP2E-1596 -->

*  Downloadable links are now preserved as expected when a scheduled update is applied while previously added products are in the cart. Previously, downloadable links disappeared from the the customer's My Account (My Downloadable Products) page and the Admin order view page.

<!-- ACP2E-1458 -->

*  Products are now visible on the storefront as expected after a staging update that enables the product is applied. Previously, the product was enabled in the Admin but was not visible in the storefront category when the indexer mode of the catalog inventory was set to Update on Schedule. A full re-index fixed the issue.

### Target rules

<!-- ACP2E-1438 -->

*  Target rules now work correctly with different store views. Previously, issues with the related products rule cache prevented the display of recommended products in multi-store deployments.

### Tax

<!-- ACP2E-1527 -->

*  You can now edit the value of Tax Rate Country and Region from the Tax Rule edit page as expected. Previously, edits made from that page were not saved.

<!-- ACP2E-1143 -->

*  The tax amount in the cart estimation area is now refreshed as expected when the shipping method is updated and no shipping method is selected. Previously,  the tax rate was not updated after a shopper changed country during check out.

### Test

<!-- AC-7098 -->

*  Performance issues with large arrays in  `TableNameSniff` have been resolved. 


### Translations and locales

### UI

<!-- ACP2E-1602 -->

*  Welcome messages containing single quotes are now rendered correctly on the storefront with no console errors. Previously, if a welcome message contained a single quote, then the welcome message as not loaded during storefront rendering. Adobe Commerce also displayed console errors.

<!-- ACP2E-1369 -->

*  Adobe Commerce no longer throws an error when you try to quickly change the view between comment history and Returns in the Admin order page. Previously, Adobe Commerce displayed this generic error: `A technical problem with the server created an error`.


<!-- ACP2E-1374 -->

*  Admin users with privileges restricted to one website can now update website-specific product attributes set to an `all stores view` scope.

<!-- ACP2E-1648 -->

*  The magnifier widget now loads as expected on the product page.

### URL rewrites

### Visual Merchandiser

<!-- ACP2E-1363 -->

*  You can now use the `Categories` attribute for Visual Merchandiser rules. Previously, Adobe Commerce threw this exception:  `Something went wrong while saving the category`.  

### Web API framework

<!-- ACP2E-1543 -->

*  Customers created using the Bulk API now receive customer registration emails in the language that is configured in their assigned website.  Previously, all emails were sent to the default locale, not the locale of the website to which the customer is assigned.

<!-- ACP2E-1339 AC-7577-->

*  Guest users can no longer place orders using the guest checkout REST API when **[!UICONTROL Allow Guest Checkout]** is disabled.  

<!-- ACP2E-1336 -->

*  You can now open from the Admin an order with the status `Received` when `AsyncOrder` is not enabled. Previously, you could not open the order detail page from the Admin when the order status was changed by REST API.


### Wish list


## System requirements

Our technology stack is built on PHP and MySQL. For more information, see [System Requirements](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Installation and upgrade instructions

You can install Adobe Commerce 2.4.7-beta1 using [Composer](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
