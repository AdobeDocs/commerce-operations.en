---
title: 'ACSD-68190: Discounts don't apply, applied discounts don't display correctly in the GraphQL cart view response, and non-coupon discounts are removed on removing a coupon discount'
description: Apply the ACSD-68190 patch to fix the Adobe Commerce issue where graphQL removeCouponFromCart mutation removes all the shopping cart rules (discounts) in the response including non-coupon discounts, instead of removing only the specific coupon discount.
feature: GraphQL, Checkout, Price Rules
role: Admin, Developer
type: Troubleshooting
---

# ACSD-68190: Discounts don't apply, applied discounts don't display correctly in the GraphQL cart view response, and non-coupon discounts are removed on removing a coupon discount

The ACSD-68190 patch fixes the issue where discounts don't apply, applied discounts don't display correctly in the GraphQL cart view response, and non-coupon discounts are removed on removing a coupon discount. This patch is available when the [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) 1.1.73 is installed. The patch ID is ACSD-68190. Please note that this issue is scheduled to be fixed in Adobe Commerce 2.4.8.

## Affected products and versions

**The patch is created for Adobe Commerce version:**

* Adobe Commerce (all deployment methods) 2.4.6-p3

**Compatible with Adobe Commerce versions:**

* Adobe Commerce (all deployment methods) 2.4.4 - 2.4.6-p13

>[!NOTE]
>
>The patch might become applicable to other versions with new [!DNL Quality Patches Tool] releases. To check if the patch is compatible with your Adobe Commerce version, update the `magento/quality-patches` package to the latest version and check the compatibility on the [[!DNL Quality Patches Tool]: Search for patches page](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html). Use the patch ID as a search keyword to locate the patch.

## Issue

Issue where discounts don't apply, applied discounts don't display correctly in the GraphQL cart view response, and non-coupon discounts are removed on removing a coupon discount.

<u>Steps to reproduce</u>:

1. Create the following category tree:
    1. New Root Category
        1. category1Â 
            1. subcategory 1.1
1. Assign the newly created root category to your store from [Stores > All Stores]
1. Create a new product and assign it to category1
1. Create Rule1 applicable to category1 (no coupon required):
1. Set "Discard subsequent rules" = NO
1. Create Rule2 (specific coupon required):
1. Set "Discard subsequent rules" = NO
1. Create a customer
1. Use graphql to get customer token and proceed with the rest of the steps
1. Add product to cart using GraphQL
1. Observe: Rule1 (non-coupon discount) is not applied initially
1. Apply coupon using GraphQL applyCouponToCart mutation
1. Verify both Rule1 and Rule2 discounts are now applied
1. Remove coupon using GraphQL removeCouponFromCart mutation

<u>Expected results</u>:

Only the coupon discount (Rule2) should be removed from the cart
Non-coupon discounts (Rule1) should remain applied to the cart

<u>Actual results</u>:

All discounts (both coupon and non-coupon rules) are removed from the cart when using GraphQL removeCouponFromCart mutation
The cart response shows no applied discounts, even though non-coupon discounts should still be active

## Apply the patch

To apply individual patches, use the following links depending on your deployment method:

* Adobe Commerce or Magento Open Source on-premises: [[!DNL Quality Patches Tool] > Usage](/help/tools/quality-patches-tool/usage.md) in the [!DNL Quality Patches Tool] guide.
* Adobe Commerce on cloud infrastructure: [Upgrades and Patches > Apply Patches](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html) in the Commerce on Cloud Infrastructure guide.

## Related reading

To learn more about [!DNL Quality Patches Tool], refer to:

* [[!DNL Quality Patches Tool]: A self-service tool for quality patches](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) in the Tools guide.