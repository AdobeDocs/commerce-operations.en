---
title: 'ACSD-67518: [!DNL Advanced Reporting] generates duplicate header rows when the row count exceeds the batch size'
description: Apply the ACSD-67518 patch to fix the Adobe Commerce issue where reports generated for the [!DNL Advanced Reporting] contain duplicated header rows in cases when the row count exceeds the batch size.
feature: Reporting
role: Admin, Developer
type: Troubleshooting
---

# ACSD-67518: [!DNL Advanced Reporting] generates duplicate header rows when the row count exceeds the batch size

The ACSD-67518 patch fixes the issue where [!DNL Advanced Reporting] generates duplicated header rows when the row count exceeds the batch size. This patch is available when the [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) 1.1.72 is installed. The patch ID is ACSD-67518. Please note that this issue is scheduled to be fixed in Adobe Commerce 2.4.9.

## Affected products and versions

**The patch is created for Adobe Commerce version:**

* Adobe Commerce (all deployment methods) 2.4.8-p1

**Compatible with Adobe Commerce versions:**

* Adobe Commerce (all deployment methods) 2.4.8 - 2.4.8-p2

>[!NOTE]
>
>The patch might become applicable to other versions with new [!DNL Quality Patches Tool] releases. To check if the patch is compatible with your Adobe Commerce version, update the `magento/quality-patches` package to the latest version and check the compatibility on the [[!DNL Quality Patches Tool]: Search for patches page](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html). Use the patch ID as a search keyword to locate the patch.

## Issue

[!DNL Advanced Reporting] generates duplicated header rows when the row count exceeds the batch size.

<u>Steps to reproduce</u>:

1. Go to **[!UICONTROL Stores]** > *[!UICONTROL Settings]* > **[!UICONTROL Configuration]** > **[!UICONTROL General]** > **[!UICONTROL Advanced Reporting]**. Verify that [!UICONTROL Advanced Reporting Service] is set to *Enable*.
1. Generate a large number of customers so the entries during analytics export gets divided and processed in batches (default batch size is 10000).
1. Execute the `analytics_collect_data` cron manually or wait for it to run as per the configured schedule.
1. Decrypt and extract the generated `data.tgz` file in `pub/media/analytics/`.
1. Open `customers.csv` and observe the number of headers.

<u>Expected results</u>:

The file headers appear only once despite the number of records and batch size.

<u>Actual results</u>:

The file headers appear multiple times, one for each batch of processed entries.

## Apply the patch

To apply individual patches, use the following links depending on your deployment method:

* Adobe Commerce or Magento Open Source on-premises: [[!DNL Quality Patches Tool] > Usage](/help/tools/quality-patches-tool/usage.md) in the [!DNL Quality Patches Tool] guide.
* Adobe Commerce on cloud infrastructure: [Upgrades and Patches > Apply Patches](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html) in the Commerce on Cloud Infrastructure guide.

## Related reading

To learn more about [!DNL Quality Patches Tool], refer to:

* [[!DNL Quality Patches Tool]: A self-service tool for quality patches](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) in the Tools guide.
